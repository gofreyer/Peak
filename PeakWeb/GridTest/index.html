<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grid Test</title>
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <div class="wrapper">
  <div class="box header">Header</div>
  <div class="box panel_left">Left Panel</div>
  <div class="box panel_right">Right Panel</div>
  <div class="box board">Board
    <br /> More content than we had before so this column is now quite tall.</div>
  <div class="box footer">Footer</div>
</div>
  </body>
  <script>
  var root = document.documentElement;
  let windowWidth = window.innerWidth;
  let windowHeight = window.innerHeight;
    
  console.log(`WindowWidth: ${windowWidth} WindowHeight: ${windowHeight}\n`);
	
	let panel_width, panel_height;
	let board_size;
	let banner_width, banner_height;
	
	if (windowHeight > windowWidth)
	{
		// portrait
		board_size = Math.min(windowHeight * 0.6,windowWidth);
		panel_height = windowHeight * 0.2;
		panel_width = windowWidth * 0.5;
		banner_height = windowHeight * 0.1;
		banner_width = windowWidth;
	}
	else
	{
		// landscape
		board_size = Math.min(windowWidth * 0.6,windowHeight*0.8);
		panel_height = windowHeight * 0.8;
		panel_width = windowWidth * 0.2;
		banner_height = windowHeight * 0.1;
		banner_width = windowWidth;
	}

  root.style.setProperty('--screen-x', `${windowWidth}px`)
  root.style.setProperty('--screen-y', `${windowHeight}px`)
  root.style.setProperty('--boardsize',`${board_size}px`)
  root.style.setProperty('--panelheight',`${panel_height}px` )
  root.style.setProperty('--panelwidth',`${panel_width}px` )
  root.style.setProperty('--bannerheight',`${banner_height}px` )
  root.style.setProperty('--bannerwidth',`${banner_width}px` )

document.addEventListener('resize', () => {

	windowWidth = window.innerWidth;
	windowHeight = window.innerHeight;
	
	console.log(`WindowWidth: ${windowWidth} WindowHeight: ${windowHeight}\n`);
	
	if (windowHeight > windowWidth)
	{
		// portrait
		board_size = Math.min(windowHeight * 0.6,windowWidth);
		panel_height = windowHeight * 0.2;
		panel_width = windowWidth * 0.5;
		banner_height = windowHeight * 0.1;
		banner_width = windowWidth;
	}
	else
	{
		// landscape
		board_size = Math.min(windowWidth * 0.6,windowHeight*0.8);
		panel_height = windowHeight * 0.8;
		panel_width = windowWidth * 0.2;
		banner_height = windowHeight * 0.1;
		banner_width = windowWidth;
	}

  root.style.setProperty('--screen-x', `${windowWidth}px`)
  root.style.setProperty('--screen-y', `${windowHeight}px`)
  root.style.setProperty('--boardsize',`${board_size}px`)
  root.style.setProperty('--panelheight',`${panel_height}px` )
  root.style.setProperty('--panelwidth',`${panel_width}px` )
  root.style.setProperty('--bannerheight',`${banner_height}px` )
  root.style.setProperty('--bannerwidth',`${banner_width}px` )
})
</script>
</html>

